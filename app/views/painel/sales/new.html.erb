<!-- Start Page Header -->
<div class="page-header">
  <h1 class="title">Efetuar nova venda</h1>
</div>
<!-- End Page Header -->

<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default">
      <%= form_for @sale, :url => { :action => "create" }, :html => { :class => "form-horizontal" } do |f| %>
        <div class="form-group">
          <div class="col-sm-12">
            <%= f.label :payment_id, "Forma de Pagamento" , class: "control-label form-label" %>
            <%= collection_select(:sale, :payment_id, Payment.all, :id, :name, { :prompt => "Selecione uma forma de pagamento" }, { :class=>'form-control'}) %>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-12">
            <%= f.label :client_id, "Cliente" , class: "control-label form-label" %>
            <%= collection_select(:sale, :client_id, Client.all, :id, :name, { :prompt => "Selecione um cliente" }, { :class=>'form-control'}) %>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-12">
            <%= f.label :client_id, "Produtos" , class: "control-label form-label" %>
            <%= f.collection_select(:product_ids, Product.all, :id, :name,
      {include_blank: false, :include_hidden => false, :selected => @sale.products.map(&:id)}, {:multiple => true}) %>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-12">
            <%= f.label :price, "Valor da Venda" , class: "control-label form-label" %>
            <%= f.text_field :price, class: "form-control" %>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-12">
            <%= f.submit 'Salvar', :class => 'btn btn-default right' %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>